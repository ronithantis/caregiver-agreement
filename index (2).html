<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>╫к╫Щ╫Р╫Х╫Э ╫ж╫Щ╫д╫Щ╫Х╫к тАФ ╫в╫Х╫С╫У/╫к ╫б╫Щ╫в╫Х╫У</title>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone@7/babel.min.js"></script>
  <style>body{margin:0;padding:0;background:#fff}</style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel" data-presets="react">
const { useState, useContext, createContext } = React;

const FormCtx = createContext(null);

const STYLE = `
  @import url('https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;600;700&display=swap');
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
  body { font-family: 'Heebo', sans-serif; background: #fff; color: #111; direction: rtl; font-size: 16px; }

  .wrap { max-width: 800px; margin: 0 auto; padding: 48px 28px 100px; }
  .main-title { font-size: 34px; font-weight: 700; }
  .main-sub { font-size: 15px; font-weight: 300; color: #777; margin-top: 4px; padding-bottom: 20px; border-bottom: 1.5px solid #111; margin-bottom: 52px; }
  .sec { margin-bottom: 56px; }
  .sec-title { font-size: 11px; font-weight: 700; letter-spacing: 2px; text-transform: uppercase; color: #111; padding-bottom: 10px; border-bottom: 1px solid #ddd; margin-bottom: 28px; }
  .sec-num { color: #bbb; margin-left: 6px; }
  .fg { margin-bottom: 22px; }
  .fg label { display: block; font-size: 14px; font-weight: 600; margin-bottom: 7px; color: #444; }
  .fg .hint { font-size: 12px; color: #aaa; margin-bottom: 6px; }
  input[type="text"], input[type="date"] { width: 100%; border: none; border-bottom: 1px solid #ccc; padding: 9px 0; font-family: 'Heebo', sans-serif; font-size: 15px; background: transparent; outline: none; color: #111; direction: rtl; }
  input[type="text"]:focus, input[type="date"]:focus { border-bottom-color: #111; }
  textarea { width: 100%; border: 1px solid #ccc; padding: 12px; font-family: 'Heebo', sans-serif; font-size: 15px; background: #fafafa; outline: none; color: #111; direction: rtl; resize: vertical; min-height: 80px; }
  textarea:focus { border-color: #111; background: #fff; }
  .grid2 { display: grid; grid-template-columns: 1fr 1fr; gap: 28px; }
  .radios { display: flex; gap: 24px; flex-wrap: wrap; margin-top: 4px; }
  .radios label { display: flex; align-items: center; gap: 7px; font-size: 14px; font-weight: 400; color: #333; cursor: pointer; margin-bottom: 0; }
  input[type="radio"], input[type="checkbox"] { width: 16px; height: 16px; cursor: pointer; accent-color: #111; }
  .task-table { width: 100%; border-collapse: collapse; }
  .task-table th { font-size: 12px; font-weight: 600; text-align: right; padding: 9px 14px; background: #f5f5f5; border-bottom: 1px solid #ddd; }
  .task-table td { padding: 8px 14px; border-bottom: 1px solid #f0f0f0; font-size: 14px; vertical-align: middle; }
  .task-table td:first-child { font-weight: 500; width: 30%; }
  .task-table select { width: 100%; border: none; border-bottom: 1px solid #ccc; padding: 4px 0; font-family: 'Heebo', sans-serif; font-size: 14px; background: transparent; outline: none; }
  .task-table input[type="text"] { font-size: 14px; }
  .alert { background: #fffbeb; border: 1px solid #fde68a; padding: 16px 20px; border-radius: 4px; font-size: 13px; line-height: 1.7; margin-bottom: 16px; }
  .alert strong { font-weight: 700; }
  .ack-row { display: flex; align-items: flex-start; gap: 10px; margin-top: 12px; font-size: 13px; line-height: 1.6; color: #333; }
  .btn { background: #111; color: #fff; border: none; padding: 14px 32px; font-size: 15px; font-family: 'Heebo', sans-serif; font-weight: 600; cursor: pointer; letter-spacing: 0.5px; }
  .btn:hover { background: #333; }
  .btn-out { background: transparent; color: #111; border: 1.5px solid #111; padding: 13px 28px; font-size: 14px; font-family: 'Heebo', sans-serif; cursor: pointer; }
  .loading { display: flex; align-items: center; justify-content: center; height: 60vh; font-size: 18px; color: #777; }
  .lang-box { margin-bottom: 52px; padding: 28px; border: 1px solid #ddd; border-radius: 8px; background: #fafafa; }
  .lang-box-title { font-size: 13px; font-weight: 700; margin-bottom: 20px; color: #111; }
  .lang-step-label { font-size: 11px; font-weight: 600; color: #888; letter-spacing: 1px; margin-bottom: 10px; }
  .lang-chips { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 8px; }
  .chip { padding: 9px 20px; border: 1.5px solid #ddd; border-radius: 6px; background: #fff; color: #333; font-size: 13px; font-family: 'Heebo', sans-serif; cursor: pointer; transition: all 0.15s; }
  .chip.active { border-color: #111; background: #111; color: #fff; font-weight: 600; }
  .lang-preview { margin-top: 16px; font-size: 12px; color: #555; border-top: 1px solid #e8e8e8; padding-top: 12px; }
  .intro-box { border: 1.5px solid #ccc; border-radius: 10px; padding: 28px 32px; margin-bottom: 48px; background: #fafafa; line-height: 1.85; }

  /* REPORT */
  .rpt { max-width: 800px; margin: 0 auto; padding: 40px 28px; direction: rtl; }
  .rpt-hdr { text-align: center; padding-bottom: 20px; margin-bottom: 36px; border-bottom: 2px solid #111; }
  .rpt-hdr-title { font-size: 24px; font-weight: 700; }
  .rpt-meta { display: flex; justify-content: space-between; font-size: 13px; color: #555; margin-top: 10px; }
  .rpt-sec { margin-bottom: 36px; page-break-inside: avoid; }
  .rpt-sec-title { font-size: 10px; font-weight: 700; letter-spacing: 2px; text-transform: uppercase; padding-bottom: 8px; border-bottom: 1px solid #bbb; margin-bottom: 18px; color: #333; overflow: hidden; }
  .bi-row { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 14px; padding-bottom: 14px; border-bottom: 1px solid #f0f0f0; page-break-inside: avoid; }
  .bi-he { direction: rtl; }
  .bi-tr { direction: ltr; text-align: left; }
  .bi-lbl { font-size: 11px; color: #999; margin-bottom: 3px; }
  .bi-val { font-size: 14px; line-height: 1.55; }
  .col-hdr { font-size: 11px; font-weight: 700; color: #999; border-bottom: 1px solid #ddd; padding-bottom: 6px; margin-bottom: 12px; }
  .col-hdr.ltr { direction: ltr; text-align: left; }
  .sig-wrap { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-top: 32px; }
  .sig-box { border: 1px solid #ccc; padding: 22px 18px; }
  .sig-box-title { font-size: 13px; font-weight: 700; margin-bottom: 32px; }
  .sig-line { border-bottom: 1px solid #888; margin-top: 40px; }
  .sig-label { font-size: 11px; color: #888; margin-top: 4px; }

  @media print {
    .no-print { display: none !important; }
    .print-hide { display: none !important; }
    body { direction: rtl; }
    .rpt { padding: 0; max-width: 100%; }
    @page { size: A4 portrait; margin: 15mm 18mm; }
    .rpt-sec, .bi-row, .sig-wrap { page-break-inside: avoid; }
  }
`;

const TASKS = [
  { key: "bathing",    he: "╫и╫Ч╫ж╫Ф / ╫з╫а╫Х╫Ч" },
  { key: "diaper",    he: "╫Ф╫Ч╫Ь╫д╫к ╫Ч╫Щ╫к╫Х╫Ь / ╫Ю╫Х╫ж╫и╫Щ ╫б╫д╫Щ╫Т╫Ф" },
  { key: "medication",he: "╫Ю╫к╫Я ╫к╫и╫Х╫д╫Х╫к" },
  { key: "mobility",  he: "╫а╫Щ╫Х╫У / ╫й╫Щ╫Ю╫Х╫й ╫С╫Ю╫а╫Х╫г" },
  { key: "doctor",    he: "╫Ь╫Щ╫Х╫Х╫Щ ╫Ь╫и╫Х╫д╫Р / ╫С╫У╫Щ╫з╫Х╫к" },
  { key: "physio",    he: "╫д╫Щ╫Ц╫Щ╫Х╫к╫и╫д╫Щ╫Ф ╫С╫Щ╫к╫Щ╫к" },
  { key: "pressure",  he: "╫Ю╫а╫Щ╫в╫к ╫д╫ж╫в╫Щ ╫Ь╫Ч╫е" },
  { key: "feeding",   he: "╫Ф╫Р╫Ы╫Ь╫Ф" },
];
const MEALS = [
  { key: "breakfast", he: "╫Р╫и╫Х╫Ч╫к ╫С╫Х╫з╫и" },
  { key: "lunch",     he: "╫Р╫и╫Х╫Ч╫к ╫ж╫Ф╫и╫Щ╫Щ╫Э" },
  { key: "dinner",    he: "╫Р╫и╫Х╫Ч╫к ╫в╫и╫С" },
  { key: "snack",     he: "╫Р╫и╫Х╫Ч╫к ╫Ь╫Щ╫Ь╫Ф / ╫а╫й╫а╫Х╫й" },
];

const EMPTY_FORM = {
  patientName:"", patientAge:"", workerName:"", workerOrigin:"", agency:"", startDate:"",
  patientStory:"", patientImportant:"", patientMood:"",
  workerBackground:"", workerExpectations:"",
  tasks: TASKS.reduce((a,t)=>({...a,[t.key]:{included:"",notes:""}}),{}),
  notExpected:"",
  meals: MEALS.reduce((a,m)=>({...a,[m.key]:""}),{}),
  whoCooks:"", workerCooksForSelf:"", forbiddenFood:"",
  whoShops:"", shoppingPayment:"", workerShopsAlone:"", patientDuringShop:"", receiptRequired:"",
  nightWatch:"", minSleepHours:"", sleepFrom:"", sleepTo:"",
  nightReplacement:"", nightCallMethod:"", nightCompensation:"", nightCompDetails:"",
  phonePolicy:"", phoneForbiddenWhen:"", smoking:"", smokingArea:"",
  guests:"", kosher:"", kosherDetails:"", abandonmentAck:false,
  salary:"", payDay:"", pocketMoney:"", pocketMoneyType:"", restDay:"",
  leaveNotice:"", leaveChannel:"", sickNotice:"", dailyRest:"",
  terminationAck:false, holidaysSelected:"", holidaysAck:false,
  fallProtocol:"", refusalProtocol:"", contactOrder:"",
  distressButton:"", distressDetails:"", ambulanceAuto:"",
  openNotes:"",
  familySignName:"", workerSignName:"", signDate:"",
};

const yn = v => v==="yes"?"╫Ы╫Я":v==="no"?"╫Ь╫Р":v||"тАФ";
const Dash = () => <span style={{color:"#bbb",fontStyle:"italic",fontSize:12}}>тАФ</span>;

// R тАФ defined at module level to avoid remount bug
function R({ field, label, hint, type="text", options }) {
  const { form, upd } = useContext(FormCtx);
  const value = form[field] ?? "";
  return (
    <div className="fg">
      {label && <label>{label}</label>}
      {hint && <div className="hint">{hint}</div>}
      {type==="textarea" ? (
        <textarea value={value} onChange={e=>upd(field,e.target.value)} rows={3}/>
      ) : type==="radio" ? (
        <div className="radios">
          {options.map(o=>(
            <label key={o.v}>
              <input type="radio" name={field} checked={value===o.v} onChange={()=>upd(field,o.v)}/>
              {o.l}
            </label>
          ))}
        </div>
      ) : (
        <input type={type} value={value} onChange={e=>upd(field,e.target.value)}/>
      )}
    </div>
  );
}

// Chip тАФ also at module level
function Chip({ label, active, onClick }) {
  return (
    <button className={"chip"+(active?" active":"")} onClick={onClick}>{label}</button>
  );
}

const LNAME = { he:"╫в╫С╫и╫Щ╫к", en:"English", uz:"O╩╗zbekcha", hi:"рд╣рд┐рдиреНрджреА" };

const TERM_ROWS = {
  he:[["╫в╫У 3 ╫Ч╫Х╫У╫й╫Щ╫Э","╫й╫С╫Х╫в"],["╫Ч╫Х╫У╫й 4тАУ6","14 ╫Щ╫Х╫Э"],["╫Ч╫Х╫У╫й 7тАУ12","21 ╫Щ╫Х╫Э"],["╫Ю╫в╫Ь ╫й╫а╫Ф","╫Ч╫Х╫У╫й"]],
  en:[["Up to 3 months","1 week"],["Month 4тАУ6","14 days"],["Month 7тАУ12","21 days"],["Over 1 year","1 month"]],
  uz:[["3 oygacha","1 hafta"],["4тАУ6-oy","14 kun"],["7тАУ12-oy","21 kun"],["1 yildan ko'p","1 oy"]],
  hi:[["3 рдорд╣реАрдиреЗ рддрдХ","1 рд╕рдкреНрддрд╛рд╣"],["4тАУ6 рдорд╣реАрдирд╛","14 рджрд┐рди"],["7тАУ12 рдорд╣реАрдирд╛","21 рджрд┐рди"],["1 рд╕рд╛рд▓ рд╕реЗ рдЬреНрдпрд╛рджрд╛","1 рдорд╣реАрдирд╛"]],
};
const TERM_NOTE = {
  he:"╫Ф╫Ф╫Х╫У╫в╫Ф ╫Ч╫Щ╫Щ╫С╫к ╫Ь╫Ф╫Щ╫а╫к╫Я ╫С╫Ы╫к╫С. ╫С╫б╫Щ╫в╫Х╫У, ╫Р╫Щ-╫Ю╫к╫Я ╫Ф╫Х╫У╫в╫Ф ╫в╫Ь╫Х╫Ь ╫Ь╫Ф╫Х╫С╫Щ╫Ь ╫Ь╫Ф╫и╫Ч╫з╫Ф ╫Ю╫Щ╫й╫и╫Р╫Ь.",
  en:"Notice must be given in writing. In caregiving, failure may result in removal from Israel.",
  uz:"Xabar yozma berilishi shart. Parvarish sohasida qonuniy xabar bermaslik deportatsiyaga olib kelishi mumkin.",
  hi:"рдиреЛрдЯрд┐рд╕ рд▓рд┐рдЦрд┐рдд рдореЗрдВ рджреЗрдирд╛ рдЬрд░реВрд░реА рд╣реИред рджреЗрдЦрднрд╛рд▓ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рди рджреЗрдиреЗ рдкрд░ рдЗрдЬрд░рд╛рдЗрд▓ рд╕реЗ рдирд┐рд░реНрд╡рд╛рд╕рди рд╣реЛ рд╕рдХрддрд╛ рд╣реИред",
};
const ABANDON = {
  he:"╫Р╫б╫Х╫и ╫Ь╫в╫Ц╫Х╫С ╫Р╫к ╫Ф╫Ю╫Ш╫Х╫д╫Ь/╫к ╫Ь╫Ь╫Р ╫Ф╫й╫Т╫Ч╫Ф. ╫Ы╫Ь ╫Щ╫ж╫Щ╫Р╫Ф ╫Ю╫Ч╫Щ╫Щ╫С╫к ╫к╫Щ╫Р╫Х╫Э ╫в╫Э ╫Ф╫Ю╫й╫д╫Ч╫Ф ╫Х╫а╫Х╫Ы╫Ч╫Х╫к ╫Р╫У╫Э ╫Р╫Ч╫и. ╫Ф╫д╫и╫Ф ╫в╫Ь╫Х╫Ь╫Ф ╫Ь╫Ф╫Х╫Х╫к ╫в╫Щ╫Ь╫Ф ╫Ь╫б╫Щ╫Х╫Э ╫Ю╫Щ╫Щ╫У╫Щ.",
  en:"It is strictly forbidden to leave the patient unattended. Any departure requires family coordination. Violation may result in immediate termination.",
  uz:"Bemorni nazoratisiz qoldirish taqiqlanadi. Har qanday chiqish oila bilan muvofiqlashtirilishi kerak.",
  hi:"рдорд░реАрдЬ рдХреЛ рдмрд┐рдирд╛ рдирд┐рдЧрд░рд╛рдиреА рдЫреЛрдбрд╝рдирд╛ рд╕рдЦреНрдд рдордирд╛ рд╣реИред рдмрд╛рд╣рд░ рдЬрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░рд┐рд╡рд╛рд░ рд╕реЗ рд╕рдордиреНрд╡рдп рдЬрд░реВрд░реА рд╣реИред",
};
const HOLIDAYS_TXT = {
  he:"9 ╫Щ╫Ю╫Щ ╫Ф╫Ч╫Т ╫й╫а╫С╫Ч╫и╫Х ╫з╫С╫Х╫в╫Щ╫Э ╫Ь╫Ы╫Ь ╫к╫з╫Х╫д╫к ╫Ф╫Ф╫в╫б╫з╫Ф ╫Х╫Ь╫Р ╫а╫Щ╫к╫Я ╫Ь╫Ф╫Ч╫Ь╫Щ╫д╫Э.",
  en:"The 9 selected holidays are fixed for the entire employment period and cannot be changed.",
  uz:"9 ta tanlangan bayram kuni butun ish muddati davomida o'zgarmas.",
  hi:"9 рдЪреБрдиреА рд╣реБрдИ рдЫреБрдЯреНрдЯрд┐рдпрд╛рдБ рдкреВрд░реЗ рд░реЛрдЬрдЧрд╛рд░ рдХрд╛рд▓ рдореЗрдВ рддрдп рд░рд╣реЗрдВрдЧреАред",
};
const WORKER_LABEL = { he:"╫в╫Х╫С╫У/╫к", en:"Worker", uz:"Ishchi", hi:"рдХрд░реНрдордЪрд╛рд░реА" };
const INTRO = {
  he:{ t:"╫Ь╫д╫а╫Щ╫Ы╫Э ╫б╫Щ╫Ы╫Х╫Э ╫к╫Щ╫Р╫Х╫Э ╫Ф╫ж╫Щ╫д╫Щ╫Х╫к тАУ ╫Ф╫С╫б╫Щ╫б ╫Ь╫й╫Х╫к╫д╫Х╫к ╫Ю╫Х╫ж╫Ь╫Ч╫к.", b:"╫Ю╫б╫Ю╫Ъ ╫Ц╫Ф ╫Р╫Щ╫а╫Х ╫и╫з ╫б╫Щ╫Ы╫Х╫Э ╫Ш╫Ы╫а╫Щ, ╫Р╫Ь╫Р ╫Ф╫к╫й╫к╫Щ╫к ╫Ь╫Ф╫ж╫Ь╫Ч╫к ╫Ф╫Ш╫Щ╫д╫Х╫Ь ╫Ф╫б╫Щ╫в╫Х╫У╫Щ ╫С╫С╫Щ╫к╫Ы╫Э. ╫Ю╫Ш╫и╫к╫Х ╫Ь╫Т╫й╫и ╫в╫Ь ╫д╫в╫и╫Щ ╫Ф╫и╫Т╫Ь╫Щ╫Э, ╫Ь╫Ю╫а╫Х╫в ╫Р╫Щ-╫Ф╫С╫а╫Х╫к ╫Х╫Ь╫Щ╫ж╫Х╫и ╫б╫С╫Щ╫С╫к ╫в╫С╫Х╫У╫Ф ╫а╫в╫Щ╫Ю╫Ф." },
  en:{ t:"Expectations Agreement тАФ Foundation of a Successful Partnership.", b:"This document is not merely a technical summary, but the foundation for successful caregiving in your home." },
  uz:{ t:"Kutishlarni muvofiqlashtirish тАФ Muvaffaqiyatli hamkorlik asosi.", b:"Ushbu hujjat muvaffaqiyatli parvarish uchun asos hisoblanadi." },
  hi:{ t:"рдЕрдкреЗрдХреНрд╖рд╛рдУрдВ рдХрд╛ рд╕рдордЭреМрддрд╛ тАФ рд╕рдлрд▓ рд╕рд╛рдЭреЗрджрд╛рд░реА рдХреА рдиреАрдВрд╡ред", b:"рдпрд╣ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдЖрдкрдХреЗ рдШрд░ рдореЗрдВ рд╕рдлрд▓ рджреЗрдЦрднрд╛рд▓ рдХреА рдиреАрдВрд╡ рд╣реИред" },
};

/* тФАтФАтФА REPORT COMPONENTS тФАтФАтФА */
function BiRow({ lLabel, lVal, rLabel, rVal, lDir, rDir }) {
  return (
    <div className="bi-row">
      <div className={lDir==="rtl"?"bi-he":"bi-tr"} style={{direction:lDir||"rtl"}}>
        <div className="bi-lbl">{lLabel}</div>
        <div className="bi-val">{lVal||<Dash/>}</div>
      </div>
      <div className={rDir==="rtl"?"bi-he":"bi-tr"} style={{direction:rDir||"ltr",textAlign:rDir==="rtl"?"right":"left"}}>
        <div className="bi-lbl">{rLabel}</div>
        <div className="bi-val">{rVal||<Dash/>}</div>
      </div>
    </div>
  );
}

function RptSection({ lSec, rSec, lLang, rLang }) {
  if (!lSec || !rSec) return null;
  const ld = lLang==="he"?"rtl":"ltr";
  const rd = rLang==="he"?"rtl":"ltr";
  return (
    <div className="rpt-sec">
      <div className="rpt-sec-title" style={{overflow:"hidden"}}>
        <span style={{float:"right"}}>{lSec.title}</span>
        <span style={{float:"left",direction:"ltr"}}>{rSec.title}</span>
      </div>
      <div className="bi-row" style={{borderBottom:"1px solid #ddd",marginBottom:12,paddingBottom:8}}>
        <div className={`col-hdr${ld==="ltr"?" ltr":""}`}>{LNAME[lLang]}</div>
        <div className={`col-hdr${rd==="ltr"?" ltr":""}`}>{LNAME[rLang]}</div>
      </div>
      {lSec.fields && Object.keys(lSec.fields).map(k=>(
        <BiRow key={k}
          lLabel={lSec.fields[k]?.label} lVal={lSec.fields[k]?.value} lDir={ld}
          rLabel={rSec.fields?.[k]?.label} rVal={rSec.fields?.[k]?.value} rDir={rd}
        />
      ))}
      {lSec.tasks && lSec.tasks.map((t,i)=>(
        <BiRow key={i}
          lLabel={t.name} lVal={`${t.included}${t.notes?" тАФ "+t.notes:""}`} lDir={ld}
          rLabel={rSec.tasks?.[i]?.name} rVal={`${rSec.tasks?.[i]?.included||""}${rSec.tasks?.[i]?.notes?" тАФ "+rSec.tasks[i].notes:""}`} rDir={rd}
        />
      ))}
      {lSec.meals && lSec.meals.map((m,i)=>(
        <BiRow key={i} lLabel={m.name} lVal={m.time} lDir={ld}
          rLabel={rSec.meals?.[i]?.name} rVal={rSec.meals?.[i]?.time} rDir={rd}
        />
      ))}
      {lSec.openNotes && <BiRow lLabel={lSec.openNotes.label} lVal={lSec.openNotes.value} lDir={ld}
        rLabel={rSec.openNotes?.label} rVal={rSec.openNotes?.value} rDir={rd}/>}
    </div>
  );
}

function Report({ report, form, onBack }) {
  const { lLang, rLang, lPayload, rPayload } = report;
  const DATE = form.startDate || new Date().toLocaleDateString("he-IL");
  const s = lPayload.sections;
  const t = rPayload.sections;
  const ld = lLang==="he"?"rtl":"ltr";
  const rd = rLang==="he"?"rtl":"ltr";

  const TermTable = ({ lang }) => (
    <>
      <table style={{width:"100%",borderCollapse:"collapse",fontSize:12}}>
        <tbody>{(TERM_ROWS[lang]||TERM_ROWS.en).map(([p,n],i)=>(
          <tr key={i} style={{borderBottom:"1px solid #f0f0f0"}}>
            <td style={{padding:"5px 0",color:"#555"}}>{p}</td>
            <td style={{padding:"5px 0",fontWeight:600}}>{n}</td>
          </tr>
        ))}</tbody>
      </table>
      <p style={{fontSize:11,color:"#777",marginTop:8,lineHeight:1.6}}>{TERM_NOTE[lang]}</p>
    </>
  );

  return (
    <>
      <style>{STYLE}</style>
      <div className="rpt">
        <div className="no-print" style={{display:"flex",gap:12,marginBottom:40,alignItems:"center",flexWrap:"wrap"}}>
          <button className="btn" onClick={()=>window.print()}>ЁЯЦи ╫Ф╫У╫д╫б / ╫й╫Ю╫Х╫и PDF</button>
          <button className="btn-out" onClick={onBack}>тЖР ╫Ч╫Ц╫и╫Ф ╫Ь╫в╫и╫Щ╫Ы╫Ф</button>
          <span style={{fontSize:12,color:"#aaa"}}>Ctrl+P / тМШ+P</span>
        </div>

        <div className="rpt-hdr">
          <div className="rpt-hdr-title">╫к╫Щ╫Р╫Х╫Э ╫ж╫Щ╫д╫Щ╫Х╫к тАФ ╫а╫б╫д╫Ч ╫Ь╫Ч╫Х╫Ц╫Ф</div>
          <div style={{display:"flex",justifyContent:"space-between",fontSize:11,color:"#888",marginTop:6}}>
            <span style={{direction:ld}}>{LNAME[lLang]}</span>
            <span>тЖФ</span>
            <span style={{direction:rd}}>{LNAME[rLang]}</span>
          </div>
          <div className="rpt-meta">
            <span>╫Ю╫Ш╫Х╫д╫Ь/╫к: {form.patientName||"тАФ"} | ╫в╫Х╫С╫У/╫к: {form.workerName||"тАФ"}</span>
            <span>{DATE}</span>
          </div>
        </div>

        {/* Intro */}
        <div style={{border:"1.5px solid #ccc",borderRadius:10,padding:"22px 26px",marginBottom:36,background:"#fafafa",lineHeight:1.8}}>
          <div style={{display:"grid",gridTemplateColumns:"1fr 1fr",gap:20}}>
            <div style={{direction:ld}}>
              <p style={{fontSize:13,fontWeight:600,marginBottom:8}}>{INTRO[lLang]?.t}</p>
              <p style={{fontSize:12,color:"#444"}}>{INTRO[lLang]?.b}</p>
            </div>
            <div style={{direction:rd,textAlign:rd==="rtl"?"right":"left"}}>
              <p style={{fontSize:13,fontWeight:600,marginBottom:8}}>{INTRO[rLang]?.t}</p>
              <p style={{fontSize:12,color:"#444"}}>{INTRO[rLang]?.b}</p>
            </div>
          </div>
        </div>

        <RptSection lSec={s.s0} rSec={t.s0} lLang={lLang} rLang={rLang}/>
        <RptSection lSec={s.s1} rSec={t.s1} lLang={lLang} rLang={rLang}/>
        <RptSection lSec={s.s2} rSec={t.s2} lLang={lLang} rLang={rLang}/>
        <RptSection lSec={s.s3} rSec={t.s3} lLang={lLang} rLang={rLang}/>
        <RptSection lSec={s.s3b} rSec={t.s3b} lLang={lLang} rLang={rLang}/>
        <RptSection lSec={s.s4} rSec={t.s4} lLang={lLang} rLang={rLang}/>
        <RptSection lSec={s.s5} rSec={t.s5} lLang={lLang} rLang={rLang}/>
        <RptSection lSec={s.s6} rSec={t.s6} lLang={lLang} rLang={rLang}/>
        <RptSection lSec={s.s7} rSec={t.s7} lLang={lLang} rLang={rLang}/>

        {/* Abandonment */}
        <div className="rpt-sec">
          <div className="rpt-sec-title">тЪа ╫б╫в╫Щ╫г ╫Ю╫Ч╫Щ╫Щ╫С тАФ ╫Ф╫й╫Р╫и╫к ╫Ф╫Ю╫Ш╫Х╫д╫Ь/╫к ╫Ь╫Ь╫Р ╫Ф╫й╫Т╫Ч╫Ф</div>
          <BiRow lLabel="" lVal={ABANDON[lLang]} lDir={ld} rLabel="" rVal={ABANDON[rLang]} rDir={rd}/>
        </div>

        {/* Holidays */}
        <div className="rpt-sec">
          <div className="rpt-sec-title">9 ╫Щ╫Ю╫Щ ╫Ч╫Т ╫з╫С╫Х╫в╫Щ╫Э</div>
          <BiRow lLabel="" lVal={(form.holidaysAck?"тЬУ ":"")+HOLIDAYS_TXT[lLang]} lDir={ld}
            rLabel="" rVal={(form.holidaysAck?"тЬУ ":"")+HOLIDAYS_TXT[rLang]} rDir={rd}/>
        </div>

        {/* Termination */}
        <div className="rpt-sec">
          <div className="rpt-sec-title">╫Ф╫Х╫У╫в╫Ф ╫Ю╫Х╫з╫У╫Ю╫к ╫Ь╫д╫Щ ╫Ч╫Х╫з</div>
          <div className="bi-row">
            <div style={{direction:ld}}>
              <TermTable lang={lLang}/>
              {lLang==="he" && <div style={{fontSize:12,marginTop:8}}>╫Р╫Щ╫й╫Х╫и: {form.terminationAck?"тЬУ":"╫Ш╫и╫Э ╫Р╫Х╫й╫и"}</div>}
            </div>
            <div style={{direction:rd,textAlign:rd==="rtl"?"right":"left"}}>
              <TermTable lang={rLang}/>
            </div>
          </div>
        </div>

        {/* Signatures */}
        <div className="rpt-sec" style={{marginTop:48}}>
          <div className="rpt-sec-title">╫Ч╫к╫Щ╫Ю╫Х╫к / Signatures</div>
          <div className="sig-wrap">
            <div className="sig-box">
              <div className="sig-box-title">╫Ф╫Ю╫й╫д╫Ч╫Ф / Family</div>
              <div style={{fontSize:12,marginBottom:4}}>╫й╫Э: {form.familySignName||"_______________"}</div>
              <div className="sig-line"/><div className="sig-label">╫Ч╫к╫Щ╫Ю╫Ф / Signature</div>
              <div style={{marginTop:16,fontSize:12}}>╫к╫Р╫и╫Щ╫Ъ: {form.signDate||"_______________"}</div>
            </div>
            <div className="sig-box" style={{direction:rd==="rtl"?"rtl":"ltr"}}>
              <div className="sig-box-title">{WORKER_LABEL[rLang]||WORKER_LABEL.he}</div>
              <div style={{fontSize:12,marginBottom:4}}>{rLang==="he"?"╫й╫Э:":"Name:"} {form.workerSignName||"_______________"}</div>
              <div className="sig-line"/><div className="sig-label">{rLang==="he"?"╫Ч╫к╫Щ╫Ю╫Ф":"Signature"}</div>
              <div style={{marginTop:16,fontSize:12}}>{rLang==="he"?"╫к╫Р╫и╫Щ╫Ъ:":"Date:"} {form.signDate||"_______________"}</div>
            </div>
          </div>
        </div>

        <div style={{textAlign:"center",fontSize:10,color:"#bbb",marginTop:40,paddingTop:16,borderTop:"1px solid #eee"}}>
          ╫к╫Щ╫Р╫Х╫Э ╫ж╫Щ╫д╫Щ╫Х╫к тАФ ╫а╫б╫д╫Ч ╫Ь╫Ч╫Х╫Ц╫Ф | Expectations Agreement
        </div>
      </div>
    </>
  );
}

/* тФАтФАтФА MAIN COMPONENT тФАтФАтФА */
export default function CaregiverAgreement() {
  const [form, setForm] = useState(EMPTY_FORM);
  const [baseLang, setBaseLang] = useState("he");
  const [extraLang, setExtraLang] = useState("none");
  const [view, setView] = useState("form");
  const [report, setReport] = useState(null);

  const upd = (f,v) => setForm(prev=>({...prev,[f]:v}));
  const updTask = (k,sub,v) => setForm(prev=>({...prev,tasks:{...prev.tasks,[k]:{...prev.tasks[k],[sub]:v}}}));
  const updMeal = (k,v) => setForm(prev=>({...prev,meals:{...prev.meals,[k]:v}}));

  const buildPayload = () => {
    const d = form;
    const yesNoVal = v => v==="yes"?"╫Ы╫Я":v==="no"?"╫Ь╫Р":v||"тАФ";
    return {
      title:"╫к╫Щ╫Р╫Х╫Э ╫ж╫Щ╫д╫Щ╫Х╫к тАФ ╫а╫б╫д╫Ч ╫Ь╫Ч╫Х╫Ц╫Ф",
      subtitle:"╫Ф╫б╫Ы╫Э ╫к╫Щ╫Р╫Х╫Э ╫ж╫Щ╫д╫Щ╫Х╫к ╫С╫Щ╫Я ╫Ю╫й╫д╫Ч╫Ф ╫Ь╫в╫Х╫С╫У/╫к ╫б╫Щ╫в╫Х╫У",
      sections:{
        s0:{title:"╫д╫и╫Ш╫Щ╫Э ╫Ы╫Ь╫Ь╫Щ╫Щ╫Э",fields:{
          patientName:{label:"╫й╫Э ╫Ф╫Ю╫Ш╫Х╫д╫Ь/╫к",value:d.patientName},
          patientAge:{label:"╫Т╫Щ╫Ь",value:d.patientAge},
          workerName:{label:"╫й╫Э ╫Ф╫в╫Х╫С╫У/╫к",value:d.workerName},
          workerOrigin:{label:"╫Р╫и╫е ╫Ю╫Х╫ж╫Р",value:d.workerOrigin},
          agency:{label:"╫к╫Р╫Т╫Щ╫У",value:d.agency},
          startDate:{label:"╫к╫Р╫и╫Щ╫Ъ ╫к╫Ч╫Щ╫Ь╫к ╫в╫С╫Х╫У╫Ф",value:d.startDate},
        }},
        s1:{title:"╫Ф╫Щ╫Ы╫и╫Х╫к ╫Ф╫У╫У╫Щ╫к",fields:{
          patientStory:{label:"╫Ю╫Щ ╫Ф╫Ю╫Ш╫Х╫д╫Ь/╫к",value:d.patientStory},
          patientImportant:{label:"╫Ю╫Ф ╫Ч╫й╫Х╫С ╫Ь╫Х/╫Ь╫Ф",value:d.patientImportant},
          patientMood:{label:"╫Ю╫Ф ╫Ю╫й╫Ю╫Ч / ╫Ю╫и╫Т╫Щ╫Ц",value:d.patientMood},
          workerBackground:{label:"╫и╫з╫в ╫Ф╫в╫Х╫С╫У/╫к",value:d.workerBackground},
          workerExpectations:{label:"╫ж╫Щ╫д╫Щ╫Х╫к ╫Ф╫в╫Х╫С╫У/╫к",value:d.workerExpectations},
        }},
        s2:{title:"╫Ю╫ж╫С ╫и╫д╫Х╫Р╫Щ ╫Х╫к╫д╫з╫Щ╫У╫Щ ╫Ш╫Щ╫д╫Х╫Ь",
          tasks:TASKS.map(t=>({name:t.he,included:yesNoVal(d.tasks[t.key]?.included),notes:d.tasks[t.key]?.notes||""})),
          notExpected:{label:"╫Ю╫Ф ╫Ь╫Р ╫Ю╫ж╫Х╫д╫Ф",value:d.notExpected},
        },
        s3:{title:"╫Р╫и╫Х╫Ч╫Х╫к, ╫С╫Щ╫й╫Х╫Ь ╫Х╫з╫а╫Щ╫Х╫к",
          meals:MEALS.map(m=>({name:m.he,time:d.meals[m.key]||"тАФ"})),
          fields:{
            whoCooks:{label:"╫Ю╫Щ ╫Ю╫С╫й╫Ь?",value:d.whoCooks},
            workerCooksForSelf:{label:"╫Ф╫в╫Х╫С╫У/╫к ╫Ю╫С╫й╫Ь/╫к ╫Ь╫в╫ж╫Ю╫Х/╫Ф?",value:yesNoVal(d.workerCooksForSelf)},
            forbiddenFood:{label:"╫Ю╫Ф ╫Р╫б╫Х╫и ╫Ь╫С╫й╫Ь?",value:d.forbiddenFood},
            whoShops:{label:"╫Ю╫Щ ╫з╫Х╫а╫Ф?",value:d.whoShops},
            shoppingPayment:{label:"╫Р╫Х╫д╫Я ╫к╫й╫Ь╫Х╫Э ╫С╫з╫а╫Щ╫Х╫к",value:d.shoppingPayment},
            receiptRequired:{label:"╫а╫У╫и╫й╫к ╫з╫С╫Ь╫Ф?",value:yesNoVal(d.receiptRequired)},
          }
        },
        s3b:{title:"╫Ф╫й╫Т╫Ч╫к ╫Ь╫Щ╫Ь╫Ф",fields:{
          nightWatch:{label:"╫а╫У╫и╫й╫к ╫Ф╫й╫Т╫Ч╫Ф ╫С╫Ь╫Щ╫Ь╫Ф?",value:d.nightWatch},
          minSleepHours:{label:"╫й╫в╫Х╫к ╫й╫Щ╫а╫Ф ╫Ю╫Х╫С╫Ш╫Ч╫Х╫к",value:d.minSleepHours},
          sleepFrom:{label:"╫Ю╫й╫в╫Ф",value:d.sleepFrom},
          sleepTo:{label:"╫в╫У ╫й╫в╫Ф",value:d.sleepTo},
          nightReplacement:{label:"╫Ю╫Щ ╫Ю╫Ч╫Ь╫Щ╫г ╫С╫б╫Х╫д\"╫й?",value:d.nightReplacement},
          nightCallMethod:{label:"╫Ы╫Щ╫ж╫У ╫Ю╫в╫Щ╫и╫Щ╫Э?",value:d.nightCallMethod},
          nightCompensation:{label:"╫д╫Щ╫ж╫Х╫Щ ╫в╫Ь ╫з╫и╫Щ╫Р╫Х╫к ╫Ь╫Щ╫Ь╫Ф?",value:yesNoVal(d.nightCompensation)},
          nightCompDetails:{label:"╫д╫и╫Ш╫Щ ╫д╫Щ╫ж╫Х╫Щ",value:d.nightCompDetails},
        }},
        s4:{title:"╫Ы╫Ь╫Ь╫Щ ╫Ф╫С╫Щ╫к",fields:{
          phonePolicy:{label:"╫Ю╫У╫Щ╫а╫Щ╫Х╫к ╫Ш╫Ь╫д╫Х╫Я",value:d.phonePolicy},
          phoneForbiddenWhen:{label:"╫Ю╫к╫Щ ╫Р╫б╫Х╫и?",value:d.phoneForbiddenWhen},
          smoking:{label:"╫в╫Щ╫й╫Х╫Я",value:yesNoVal(d.smoking)},
          smokingArea:{label:"╫Р╫Ц╫Х╫и ╫в╫Щ╫й╫Х╫Я",value:d.smokingArea},
          guests:{label:"╫Р╫Щ╫и╫Х╫Ч ╫Р╫Х╫и╫Ч╫Щ╫Э",value:d.guests},
          kosher:{label:"╫Ы╫й╫и╫Х╫к",value:yesNoVal(d.kosher)},
          kosherDetails:{label:"╫д╫и╫Ш╫Щ ╫Ы╫й╫и╫Х╫к",value:d.kosherDetails},
        }},
        s5:{title:"╫к╫а╫Р╫Щ ╫Ф╫в╫б╫з╫Ф",fields:{
          salary:{label:"╫й╫Ы╫и ╫Ч╫Х╫У╫й╫Щ",value:d.salary},
          payDay:{label:"╫Щ╫Х╫Э ╫к╫й╫Ь╫Х╫Э",value:d.payDay},
          pocketMoneyType:{label:"╫У╫Ю╫Щ ╫Ы╫Щ╫б тАФ ╫Р╫Х╫д╫Я",value:d.pocketMoneyType==="advance"?"╫Ю╫д╫и╫в╫Ф ╫в╫Ь ╫Ч╫й╫С╫Х╫Я ╫Ф╫й╫Ы╫и":d.pocketMoneyType==="extra"?"╫а╫Х╫б╫г ╫в╫Ь ╫Ф╫С╫б╫Щ╫б":"тАФ"},
          pocketMoney:{label:"╫б╫Ы╫Х╫Э ╫У╫Ю╫Щ ╫Ы╫Щ╫б",value:d.pocketMoney},
          restDay:{label:"╫Щ╫Х╫Э ╫Ю╫а╫Х╫Ч╫Ф",value:d.restDay},
          leaveNotice:{label:"╫Ф╫Х╫У╫в╫Ф ╫Ю╫и╫Р╫й ╫Ь╫Ч╫Х╫д╫й╫Ф (╫Щ╫Ю╫Щ╫Э)",value:d.leaveNotice},
          sickNotice:{label:"╫а╫Х╫Ф╫Ь ╫Ю╫Ч╫Ь╫Ф",value:d.sickNotice},
          dailyRest:{label:"╫Ю╫а╫Х╫Ч╫Ф ╫Щ╫Х╫Ю╫Щ╫к",value:d.dailyRest},
        }},
        s6:{title:"╫а╫Х╫Ф╫Ь╫Щ ╫Ч╫Щ╫и╫Х╫Э",fields:{
          fallProtocol:{label:"╫а╫д╫Щ╫Ь╫Ф",value:d.fallProtocol},
          refusalProtocol:{label:"╫б╫Щ╫и╫Х╫С ╫Ь╫Р╫Ы╫Х╫Ь/╫к╫и╫Х╫д╫Х╫к",value:d.refusalProtocol},
          contactOrder:{label:"╫б╫У╫и ╫Щ╫ж╫Щ╫и╫к ╫з╫й╫и",value:d.contactOrder},
          distressButton:{label:"╫Ь╫Ч╫ж╫Я ╫Ю╫ж╫Х╫з╫Ф",value:d.distressButton==="yes"?"╫Щ╫й":d.distressButton==="no"?"╫Р╫Щ╫Я":"тАФ"},
          distressDetails:{label:"╫д╫и╫Ш╫Щ ╫Ь╫Ч╫ж╫Я",value:d.distressDetails},
          ambulanceAuto:{label:"╫Ф╫Ц╫в╫з╫к ╫Р╫Ю╫С╫Х╫Ь╫а╫б",value:d.ambulanceAuto==="immediate"?"╫Ы╫Я тАФ ╫Ю╫Щ╫У":d.ambulanceAuto==="coord"?"╫Ы╫Я тАФ ╫Р╫Ч╫и╫Щ ╫а╫Щ╫б╫Щ╫Х╫Я ╫з╫й╫и":d.ambulanceAuto==="family_first"?"╫и╫з ╫Р╫Ч╫и╫Щ ╫Р╫Щ╫й╫Х╫и ╫Ф╫Ю╫й╫д╫Ч╫Ф":"тАФ"},
        }},
        s7:{title:"╫Ф╫в╫и╫Х╫к ╫а╫Х╫б╫д╫Х╫к",
          openNotes:{label:"╫Ф╫в╫и╫Х╫к",value:d.openNotes}
        },
      }
    };
  };

  const translateTo = async (payload, langKey) => {
    const langName = { en:"English", uz:"Uzbek (O╩╗zbekcha)", hi:"Hindi (рд╣рд┐рдиреНрджреА)" }[langKey];
    const res = await fetch("https://api.anthropic.com/v1/messages",{
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body:JSON.stringify({
        model:"claude-sonnet-4-20250514",
        max_tokens:4000,
        messages:[{role:"user",content:`Translate all Hebrew text values in this JSON to ${langName}. Rules: translate only "value","label","title","name" strings. Keep JSON structure. Keep "тАФ" and empty as-is. Keep numbers/dates. Return ONLY JSON, no markdown.\n\n${JSON.stringify(payload,null,2)}`}]
      })
    });
    const data = await res.json();
    const raw = data.content.map(c=>c.text||"").join("");
    return JSON.parse(raw.replace(/^```json\s*/i,"").replace(/```\s*$/i,"").trim());
  };

  const generate = async () => {
    setView("loading");
    const payload = buildPayload();
    try {
      if (extraLang==="none") {
        // Single language тАФ Hebrew only or English only
        if (baseLang==="he") {
          setReport({ lLang:"he", rLang:"he", lPayload:payload, rPayload:payload, single:true });
        } else {
          const tr = await translateTo(payload, baseLang);
          setReport({ lLang:baseLang, rLang:baseLang, lPayload:tr, rPayload:tr, single:true });
        }
      } else {
        // Bilingual: extraLang on left, baseLang on right
        const needExtra = extraLang!=="he";
        const needBase = baseLang!=="he";
        const [trExtra, trBase] = await Promise.all([
          needExtra ? translateTo(payload, extraLang) : Promise.resolve(payload),
          needBase  ? translateTo(payload, baseLang)  : Promise.resolve(payload),
        ]);
        setReport({ lLang:extraLang, rLang:baseLang, lPayload:trExtra, rPayload:trBase });
      }
      setView("report");
    } catch(e) {
      alert("╫й╫Т╫Щ╫Р╫Ф ╫С╫к╫и╫Т╫Х╫Э. ╫а╫б╫Ф ╫й╫Х╫С.\n"+e.message);
      setView("form");
    }
  };

  if (view==="loading") return (
    <><style>{STYLE}</style><div className="loading">╫Ю╫к╫и╫Т╫Э ╫Х╫Ю╫Щ╫Щ╫ж╫и ╫У╫Х╫Ч... тП│</div></>
  );
  if (view==="report") return <Report report={report} form={form} onBack={()=>setView("form")}/>;

  const extraOpts = baseLang==="he"
    ? [{k:"none",l:"╫Ь╫Ь╫Р"},{k:"en",l:"English"},{k:"uz",l:"O╩╗zbekcha"},{k:"hi",l:"рд╣рд┐рдиреНрджреА"}]
    : [{k:"none",l:"╫Ь╫Ь╫Р"},{k:"uz",l:"O╩╗zbekcha"},{k:"hi",l:"рд╣рд┐рдиреНрджреА"}];

  const previewText = extraLang==="none"
    ? `ЁЯУД ╫У╫Х╫Ч ╫С╫й╫д╫Ф ╫Р╫Ч╫к: ${LNAME[baseLang]}`
    : `ЁЯУД ╫в╫Ю╫Х╫У╫Ф ╫Щ╫Ю╫Щ╫Я: ${LNAME[baseLang]}  |  ╫в╫Ю╫Х╫У╫Ф ╫й╫Ю╫Р╫Ь: ${LNAME[extraLang]}`;

  return (
    <FormCtx.Provider value={{form,upd}}>
    <>
      <style>{STYLE}</style>
      <div className="wrap print-hide">
        <div className="main-title">╫к╫Щ╫Р╫Х╫Э ╫ж╫Щ╫д╫Щ╫Х╫к</div>
        <div className="main-sub">╫а╫б╫д╫Ч ╫Ь╫Ч╫Х╫Ц╫Ф тАФ ╫в╫Х╫С╫У/╫к ╫б╫Щ╫в╫Х╫У</div>

        <div className="intro-box">
          <p style={{fontSize:14,fontWeight:600,marginBottom:10}}>╫Ь╫д╫а╫Щ╫Ы╫Э ╫б╫Щ╫Ы╫Х╫Э ╫к╫Щ╫Р╫Х╫Э ╫Ф╫ж╫Щ╫д╫Щ╫Х╫к тАУ ╫Ф╫С╫б╫Щ╫б ╫Ь╫й╫Х╫к╫д╫Х╫к ╫Ю╫Х╫ж╫Ь╫Ч╫к.</p>
          <p style={{fontSize:13,color:"#444"}}>╫Ю╫б╫Ю╫Ъ ╫Ц╫Ф ╫Р╫Щ╫а╫Х ╫и╫з ╫б╫Щ╫Ы╫Х╫Э ╫Ш╫Ы╫а╫Щ, ╫Р╫Ь╫Р ╫Ф╫к╫й╫к╫Щ╫к ╫Ь╫Ф╫ж╫Ь╫Ч╫к ╫Ф╫Ш╫Щ╫д╫Х╫Ь ╫Ф╫б╫Щ╫в╫Х╫У╫Щ ╫С╫С╫Щ╫к╫Ы╫Э. ╫Ю╫Ш╫и╫к╫Х ╫Ь╫Т╫й╫и ╫в╫Ь ╫д╫в╫и╫Щ ╫Ф╫и╫Т╫Ь╫Щ╫Э, ╫Ь╫Ю╫а╫Х╫в ╫Р╫Щ-╫Ф╫С╫а╫Х╫к ╫Х╫Ь╫Щ╫ж╫Х╫и ╫б╫С╫Щ╫С╫к ╫в╫С╫Х╫У╫Ф ╫а╫в╫Щ╫Ю╫Ф ╫Х╫й╫Т╫и╫Ф ╫Щ╫ж╫Щ╫С╫Ф ╫Х╫Ю╫Х╫к╫Р╫Ю╫к ╫Р╫Щ╫й╫Щ╫к.</p>
        </div>

        {/* тФАтФА ╫й╫д╫к ╫Ф╫У╫Х╫Ч тФАтФА */}
        <div className="lang-box">
          <div className="lang-box-title">╫С╫Р╫Щ╫Ц╫Х ╫й╫д╫Ф ╫Ь╫Ф╫д╫Щ╫з ╫Р╫к ╫Ф╫У╫Х╫Ч?</div>
          <div style={{marginBottom:20}}>
            <div className="lang-step-label">╫й╫д╫Ф ╫и╫Р╫й╫Щ╫к (╫в╫Ю╫Х╫У╫Ф ╫Щ╫Ю╫Щ╫Я)</div>
            <div className="lang-chips">
              <Chip label="╫в╫С╫и╫Щ╫к" active={baseLang==="he"} onClick={()=>{setBaseLang("he");setExtraLang("none");}}/>
              <Chip label="English" active={baseLang==="en"} onClick={()=>{setBaseLang("en");setExtraLang("none");}}/>
            </div>
          </div>
          <div>
            <div className="lang-step-label">╫й╫д╫Ф ╫а╫Х╫б╫д╫к тАФ ╫в╫Ю╫Х╫У╫Ф ╫й╫Ю╫Р╫Ь (╫Р╫Х╫д╫ж╫Щ╫Х╫а╫Ь╫Щ)</div>
            <div className="lang-chips">
              {extraOpts.map(o=>(
                <Chip key={o.k} label={o.l} active={extraLang===o.k} onClick={()=>setExtraLang(o.k)}/>
              ))}
            </div>
          </div>
          <div className="lang-preview">{previewText}</div>
        </div>

        {/* тФАтФА 01 ╫д╫и╫Ш╫Щ╫Э ╫Ы╫Ь╫Ь╫Щ╫Щ╫Э тФАтФА */}
        <div className="sec">
          <div className="sec-title"><span className="sec-num">01</span>╫д╫и╫Ш╫Щ╫Э ╫Ы╫Ь╫Ь╫Щ╫Щ╫Э</div>
          <div className="grid2">
            <R field="patientName" label="╫й╫Э ╫Ф╫Ю╫Ш╫Х╫д╫Ь/╫к"/>
            <R field="patientAge" label="╫Т╫Щ╫Ь"/>
            <R field="workerName" label="╫й╫Э ╫Ф╫в╫Х╫С╫У/╫к"/>
            <R field="workerOrigin" label="╫Р╫и╫е ╫Ю╫Х╫ж╫Р"/>
            <R field="agency" label="╫к╫Р╫Т╫Щ╫У"/>
            <R field="startDate" label="╫к╫Р╫и╫Щ╫Ъ ╫к╫Ч╫Щ╫Ь╫к ╫в╫С╫Х╫У╫Ф" type="date"/>
          </div>
        </div>

        {/* тФАтФА 02 ╫Ф╫Щ╫Ы╫и╫Х╫к тФАтФА */}
        <div className="sec">
          <div className="sec-title"><span className="sec-num">02</span>╫Ф╫Щ╫Ы╫и╫Х╫к ╫Ф╫У╫У╫Щ╫к</div>
          <R field="patientStory" label="╫Ю╫Щ ╫Ф╫Ю╫Ш╫Х╫д╫Ь/╫к тАФ ╫з╫ж╫к ╫в╫Ь ╫Ф╫Р╫У╫Э" hint="╫Ь╫Р ╫и╫з ╫Ф╫Ю╫ж╫С ╫Ф╫и╫д╫Х╫Р╫Щ тАФ ╫Ю╫Ф ╫Ф╫Х╫Р/╫Ф╫Щ╫Р ╫Р╫Х╫Ф╫С/╫к, ╫Ю╫Ф ╫в╫С╫и/╫Ф" type="textarea"/>
          <R field="patientImportant" label="╫Ю╫Ф ╫Ч╫й╫Х╫С ╫Ь╫Х/╫Ь╫Ф ╫С╫Щ╫Х╫Ю╫Щ╫Х╫Э?" type="textarea"/>
          <R field="patientMood" label="╫Ю╫Ф ╫Ю╫й╫Ю╫Ч ╫Р╫Х╫к╫Х/╫Р╫Х╫к╫Ф? ╫Ю╫Ф ╫в╫Ь╫Х╫Ь ╫Ь╫Ф╫и╫Т╫Щ╫Ц?" type="textarea"/>
          <R field="workerBackground" label="╫и╫з╫в ╫Р╫Щ╫й╫Щ ╫й╫Ь ╫Ф╫в╫Х╫С╫У/╫к (╫Ю╫й╫д╫Ч╫Ф, ╫Щ╫Ь╫У╫Щ╫Э, ╫Ю╫ж╫С)" type="textarea"/>
          <R field="workerExpectations" label="╫ж╫Щ╫д╫Щ╫Х╫к ╫Ф╫в╫Х╫С╫У/╫к ╫Ю╫Ф╫Ю╫й╫и╫Ф ╫Х╫Ю╫Ф╫Ю╫й╫д╫Ч╫Ф" type="textarea"/>
        </div>

        {/* тФАтФА 03 ╫Ю╫ж╫С ╫и╫д╫Х╫Р╫Щ тФАтФА */}
        <div className="sec">
          <div className="sec-title"><span className="sec-num">03</span>╫Ю╫ж╫С ╫и╫д╫Х╫Р╫Щ ╫Х╫к╫д╫з╫Щ╫У╫Щ ╫Ш╫Щ╫д╫Х╫Ь</div>
          <table className="task-table">
            <thead>
              <tr>
                <th>╫Ю╫й╫Щ╫Ю╫Ф</th>
                <th>╫Ы╫Ь╫Х╫Ь?</th>
                <th>╫Ф╫в╫и╫Х╫к</th>
              </tr>
            </thead>
            <tbody>
              {TASKS.map(t=>(
                <tr key={t.key}>
                  <td>{t.he}</td>
                  <td>
                    <select value={form.tasks[t.key]?.included||""} onChange={e=>updTask(t.key,"included",e.target.value)}>
                      <option value="">тАФ</option>
                      <option value="yes">╫Ы╫Я</option>
                      <option value="no">╫Ь╫Р</option>
                      <option value="partial">╫Ч╫Ь╫з╫Щ</option>
                    </select>
                  </td>
                  <td>
                    <input type="text" value={form.tasks[t.key]?.notes||""} onChange={e=>updTask(t.key,"notes",e.target.value)} placeholder="╫Ф╫в╫и╫Ф"/>
                  </td>
                </tr>
              ))}
            </tbody>
          </table>
          <R field="notExpected" label="╫Ю╫Ф ╫Ь╫Р ╫Ю╫ж╫Х╫д╫Ф ╫Ю╫Ф╫в╫Х╫С╫У/╫к?" type="textarea"/>
        </div>

        {/* тФАтФА 04 ╫Р╫и╫Х╫Ч╫Х╫к тФАтФА */}
        <div className="sec">
          <div className="sec-title"><span className="sec-num">04</span>╫б╫У╫и ╫Щ╫Х╫Э тАФ ╫Р╫и╫Х╫Ч╫Х╫к, ╫С╫Щ╫й╫Х╫Ь ╫Х╫з╫а╫Щ╫Х╫к</div>
          <div className="grid2">
            {MEALS.map(m=>(
              <div key={m.key} className="fg">
                <label>{m.he} тАФ ╫й╫в╫Ф</label>
                <input type="text" value={form.meals[m.key]||""} onChange={e=>updMeal(m.key,e.target.value)} placeholder="╫й╫в╫Ф"/>
              </div>
            ))}
          </div>
          <R field="whoCooks" label="╫Ю╫Щ ╫Ю╫С╫й╫Ь?"/>
          <R field="workerCooksForSelf" label="╫Ф╫Р╫Э ╫Ф╫в╫Х╫С╫У/╫к ╫Ю╫С╫й╫Ь/╫к ╫Т╫Э ╫Ь╫в╫ж╫Ю╫Х/╫Ф?" type="radio" options={[{v:"yes",l:"╫Ы╫Я"},{v:"no",l:"╫Ь╫Р"}]}/>
          <R field="forbiddenFood" label="╫Ю╫Ф ╫Р╫б╫Х╫и ╫Ь╫С╫й╫Ь / ╫Ь╫Ф╫Т╫Щ╫й ╫Ь╫Ю╫Ш╫Х╫д╫Ь?" type="textarea"/>
          <R field="whoShops" label="╫Ю╫Щ ╫в╫Х╫и╫Ъ ╫з╫а╫Щ╫Х╫к?"/>
          <R field="shoppingPayment" label="╫Р╫Х╫д╫Я ╫к╫й╫Ь╫Х╫Э ╫С╫з╫а╫Щ╫Х╫к"/>
          <R field="workerShopsAlone" label="╫Ф╫Р╫Э ╫Ф╫в╫Х╫С╫У/╫к ╫Щ╫Х╫ж╫Р ╫Ь╫з╫а╫Х╫к ╫Ь╫С╫У?" type="radio" options={[{v:"yes",l:"╫Ы╫Я"},{v:"no",l:"╫Ь╫Р"}]}/>
          <R field="patientDuringShop" label="╫Ю╫Ф ╫з╫Х╫и╫Ф ╫в╫Э ╫Ф╫Ю╫Ш╫Х╫д╫Ь/╫к ╫С╫Ц╫Ю╫Я ╫Ф╫з╫а╫Щ╫Х╫к?"/>
          <R field="receiptRequired" label="╫Ф╫Р╫Э ╫а╫У╫и╫й╫к ╫з╫С╫Ь╫Ф / ╫У╫Щ╫Х╫Х╫Ч?" type="radio" options={[{v:"yes",l:"╫Ы╫Я"},{v:"no",l:"╫Ь╫Р"}]}/>
        </div>

        {/* тФАтФА 05 ╫Ь╫Щ╫Ь╫Ф тФАтФА */}
        <div className="sec">
          <div className="sec-title"><span className="sec-num">05</span>╫Ф╫й╫Т╫Ч╫к ╫Ь╫Щ╫Ь╫Ф</div>
          <R field="nightWatch" label="╫Ф╫Р╫Э ╫а╫У╫и╫й╫к ╫Ф╫й╫Т╫Ч╫Ф ╫С╫Ь╫Щ╫Ь╫Ф?" type="radio" options={[{v:"yes",l:"╫Ы╫Я"},{v:"partial",l:"╫Ч╫Ь╫з╫Щ╫к"},{v:"no",l:"╫Ь╫Р"}]}/>
          <div className="grid2">
            <R field="minSleepHours" label="╫й╫в╫Х╫к ╫й╫Щ╫а╫Ф ╫Ю╫Щ╫а╫Щ╫Ю╫Ь╫Щ╫Х╫к ╫Ю╫Х╫С╫Ш╫Ч╫Х╫к"/>
            <R field="nightReplacement" label="╫Ю╫Щ ╫Ю╫Ч╫Ь╫Щ╫г ╫С╫Ь╫Щ╫Ь╫Х╫к ╫б╫Х╫г ╫й╫С╫Х╫в?"/>
            <R field="sleepFrom" label="╫Ю╫Ф╫й╫в╫Ф"/>
            <R field="sleepTo" label="╫в╫У ╫Ф╫й╫в╫Ф"/>
          </div>
          <R field="nightCallMethod" label="╫Ы╫Щ╫ж╫У ╫Ю╫в╫Щ╫и╫Щ╫Э ╫Р╫к ╫Ф╫в╫Х╫С╫У/╫к?"/>
          <R field="nightCompensation" label="╫Ф╫Р╫Э ╫Щ╫й ╫д╫Щ╫ж╫Х╫Щ ╫в╫Ь ╫Ь╫Щ╫Ь╫Х╫к ╫в╫Э ╫з╫и╫Щ╫Р╫Х╫к?" type="radio" options={[{v:"yes",l:"╫Ы╫Я"},{v:"no",l:"╫Ь╫Р"}]}/>
          {form.nightCompensation==="yes" && <R field="nightCompDetails" label="╫д╫и╫Ш╫Щ ╫Ф╫д╫Щ╫ж╫Х╫Щ" type="textarea"/>}
        </div>

        {/* тФАтФА 06 ╫Ы╫Ь╫Ь╫Щ ╫С╫Щ╫к тФАтФА */}
        <div className="sec">
          <div className="sec-title"><span className="sec-num">06</span>╫Ы╫Ь╫Ь╫Щ ╫Ф╫С╫Щ╫к</div>
          <R field="phonePolicy" label="╫Ю╫У╫Щ╫а╫Щ╫Х╫к ╫й╫Щ╫Ю╫Х╫й ╫С╫Ш╫Ь╫д╫Х╫Я ╫а╫Щ╫Щ╫У"/>
          <R field="phoneForbiddenWhen" label="╫Ю╫к╫Щ ╫Р╫б╫Х╫и ╫Ь╫Ф╫й╫к╫Ю╫й ╫С╫Ш╫Ь╫д╫Х╫Я?"/>
          <R field="smoking" label="╫в╫Щ╫й╫Х╫Я" type="radio" options={[{v:"yes",l:"╫Ю╫Х╫к╫и"},{v:"no",l:"╫Р╫б╫Х╫и"}]}/>
          {form.smoking==="yes" && <R field="smokingArea" label="╫Р╫Ц╫Х╫и ╫Ю╫Х╫к╫и ╫Ь╫в╫Щ╫й╫Х╫Я"/>}
          <R field="guests" label="╫Р╫Щ╫и╫Х╫Ч ╫Р╫Х╫и╫Ч╫Щ╫Э"/>
          <R field="kosher" label="╫Ы╫й╫и╫Х╫к / ╫Ф╫а╫Ч╫Щ╫Х╫к ╫У╫к" type="radio" options={[{v:"yes",l:"╫Ы╫Я"},{v:"no",l:"╫Ь╫Р"}]}/>
          {form.kosher==="yes" && <R field="kosherDetails" label="╫д╫и╫Ш╫Щ ╫Ы╫й╫и╫Х╫к" type="textarea"/>}
          <div style={{marginTop:24}}>
            <div className="alert">
              <p>тЪая╕П <strong>╫Р╫Щ╫б╫Х╫и ╫Ю╫Х╫Ч╫Ь╫Ш тАФ ╫Ф╫й╫Р╫и╫к ╫Ф╫Ю╫Ш╫Х╫д╫Ь/╫к ╫Ь╫Ь╫Р ╫Ф╫й╫Т╫Ч╫Ф</strong></p>
              <p style={{marginTop:8}}>╫Р╫б╫Х╫и ╫С╫Ф╫Ч╫Ь╫Ш ╫Ь╫в╫Ц╫Х╫С ╫Р╫к ╫Ф╫Ю╫Ш╫Х╫д╫Ь/╫к ╫Ь╫Ь╫Р ╫Ф╫й╫Т╫Ч╫Ф. ╫Ы╫Ь ╫Щ╫ж╫Щ╫Р╫Ф ╫Ю╫Ч╫Щ╫Щ╫С╫к ╫к╫Щ╫Р╫Х╫Э ╫в╫Э ╫Ф╫Ю╫й╫д╫Ч╫Ф. ╫Ф╫д╫и╫Ф ╫в╫Ь╫Х╫Ь╫Ф ╫Ь╫Ф╫Х╫Х╫к ╫в╫Щ╫Ь╫Ф ╫Ь╫б╫Щ╫Х╫Э ╫Ю╫Щ╫Щ╫У╫Щ.</p>
            </div>
            <div className="ack-row">
              <input type="checkbox" checked={form.abandonmentAck} onChange={e=>upd("abandonmentAck",e.target.checked)}/>
              <span>╫з╫и╫Р╫к╫Щ ╫Х╫Ф╫С╫а╫к╫Щ ╫Р╫к ╫Ф╫Р╫Щ╫б╫Х╫и ╫Ф╫Ю╫Х╫Ч╫Ь╫Ш ╫Ь╫в╫Ц╫Х╫С ╫Р╫к ╫Ф╫Ю╫Ш╫Х╫д╫Ь/╫к ╫Ь╫Ь╫Р ╫Ф╫й╫Т╫Ч╫Ф.</span>
            </div>
          </div>
        </div>

        {/* тФАтФА 07 ╫к╫а╫Р╫Щ ╫Ф╫в╫б╫з╫Ф тФАтФА */}
        <div className="sec">
          <div className="sec-title"><span className="sec-num">07</span>╫к╫а╫Р╫Щ ╫Ф╫в╫б╫з╫Ф</div>
          <div className="grid2">
            <R field="salary" label="╫й╫Ы╫и ╫Ч╫Х╫У╫й╫Щ"/>
            <R field="payDay" label="╫Щ╫Х╫Э ╫к╫й╫Ь╫Х╫Э ╫С╫Ч╫Х╫У╫й"/>
            <R field="restDay" label="╫Щ╫Х╫Э ╫Ю╫а╫Х╫Ч╫Ф ╫й╫С╫Х╫в╫Щ"/>
            <R field="dailyRest" label="╫й╫в╫Х╫к ╫Ю╫а╫Х╫Ч╫Ф ╫Щ╫Х╫Ю╫Щ╫Х╫к"/>
            <R field="sickNotice" label="╫а╫Х╫Ф╫Ь ╫Ф╫Х╫У╫в╫Ф ╫в╫Ь ╫Ю╫Ч╫Ь╫Ф"/>
          </div>
          <R field="pocketMoneyType" label="╫У╫Ю╫Щ ╫Ы╫Щ╫б ╫й╫С╫Х╫в╫Щ╫Щ╫Э тАФ ╫Р╫Х╫д╫Я ╫к╫й╫Ь╫Х╫Э" type="radio" options={[{v:"advance",l:"╫Ю╫д╫и╫в╫Ф ╫в╫Ь ╫Ч╫й╫С╫Х╫Я ╫Ф╫й╫Ы╫и"},{v:"extra",l:"╫а╫Х╫б╫г ╫в╫Ь ╫Ф╫С╫б╫Щ╫б"}]}/>
          <R field="pocketMoney" label="╫б╫Ы╫Х╫Э ╫У╫Ю╫Щ ╫Ы╫Щ╫б ╫й╫С╫Х╫в╫Щ╫Щ╫Э"/>
          <div style={{marginTop:24}}>
            <div className="alert">
              <p><strong>╫Ч╫Х╫д╫й╫Ф ╫й╫а╫к╫Щ╫к:</strong> ╫Ю╫б╫д╫и ╫Щ╫Ю╫Щ ╫Ф╫Ч╫Х╫д╫й╫Ф ╫Щ╫Щ╫з╫С╫в ╫Ь╫д╫Щ ╫Ч╫Х╫з. ╫в╫Ь ╫й╫а╫Щ ╫Ф╫ж╫У╫У╫Щ╫Э ╫Ь╫к╫Р╫Э ╫Ы╫Ь ╫Ч╫Х╫д╫й╫Ф ╫Ю╫и╫Р╫й.</p>
            </div>
            <R field="leaveNotice" label="╫Ф╫Х╫У╫в╫Ф ╫Ю╫и╫Р╫й ╫Ь╫Ч╫Х╫д╫й╫Ф тАФ ╫Ы╫Ю╫Ф ╫Щ╫Ю╫Щ╫Э?" hint="╫Ч╫Х╫д╫й╫Ф ╫й╫Ь╫Р ╫к╫Х╫Р╫Ю╫Ф ╫Ю╫и╫Р╫й ╫Ь╫Р ╫к╫Р╫Х╫й╫и. ╫в╫Ь ╫Ф╫Ю╫й╫д╫Ч╫Ф ╫Ь╫Ф╫Щ╫в╫и╫Ъ ╫в╫Э ╫Ю╫Ч╫Ь╫Щ╫г/╫Ф."/>
            <R field="leaveChannel" label="╫в╫и╫Х╫е ╫Ф╫Х╫У╫в╫Ф ╫в╫Ь ╫Ч╫Х╫д╫й╫Ф" type="radio" options={[{v:"phone",l:"╫Ш╫Ь╫д╫Х╫Я"},{v:"whatsapp",l:"╫Х╫Х╫Р╫Ш╫б╫Р╫д"},{v:"other",l:"╫Р╫Ч╫и"}]}/>
          </div>
          <div style={{marginTop:24}}>
            <div className="alert">
              <p><strong>╫Ф╫Х╫У╫в╫Ф ╫Ю╫Х╫з╫У╫Ю╫к ╫Ь╫д╫Щ ╫Ч╫Х╫з:</strong> ╫в╫У 3 ╫Ч╫Х╫У╫й╫Щ╫Э тАФ ╫й╫С╫Х╫в | ╫Ч╫Х╫У╫й 4тАУ6 тАФ 14 ╫Щ╫Х╫Э | ╫Ч╫Х╫У╫й 7тАУ12 тАФ 21 ╫Щ╫Х╫Э | ╫Ю╫в╫Ь ╫й╫а╫Ф тАФ ╫Ч╫Х╫У╫й ╫Щ╫Ю╫Щ╫Э.</p>
              <p style={{marginTop:8,fontSize:12,color:"#666"}}>╫Ф╫Ф╫Х╫У╫в╫Ф ╫Ч╫Щ╫Щ╫С╫к ╫Ь╫Ф╫Щ╫а╫к╫Я ╫С╫Ы╫к╫С. ╫С╫б╫Щ╫в╫Х╫У, ╫Р╫Щ-╫Ю╫к╫Я ╫Ф╫Х╫У╫в╫Ф ╫Ы╫Ч╫Х╫з ╫в╫Ь╫Х╫Ь ╫Ь╫Ф╫Х╫С╫Щ╫Ь ╫Ь╫Ф╫и╫Ч╫з╫Ф ╫Ю╫Щ╫й╫и╫Р╫Ь.</p>
            </div>
            <div className="ack-row">
              <input type="checkbox" checked={form.terminationAck} onChange={e=>upd("terminationAck",e.target.checked)}/>
              <span>╫з╫и╫Р╫к╫Щ ╫Х╫Ф╫С╫а╫к╫Щ ╫Р╫к ╫Ч╫Х╫С╫к ╫Ф╫Ф╫Х╫У╫в╫Ф ╫Ф╫Ю╫Х╫з╫У╫Ю╫к ╫Ь╫д╫Щ ╫Ч╫Х╫з.</span>
            </div>
          </div>
          <div style={{marginTop:24}}>
            <R field="holidaysSelected" label="╫Ф╫Р╫Э ╫а╫С╫Ч╫и╫Х 9 ╫Щ╫Ю╫Щ ╫Ф╫Ч╫Т ╫Ь╫к╫з╫Х╫д╫к ╫Ф╫Ф╫в╫б╫з╫Ф?" type="radio" options={[{v:"yes",l:"╫Ы╫Я"},{v:"no",l:"╫Ь╫Р"}]}/>
            <div className="ack-row">
              <input type="checkbox" checked={form.holidaysAck} onChange={e=>upd("holidaysAck",e.target.checked)}/>
              <span>╫Щ╫У╫Х╫в ╫Ь╫Щ ╫Ы╫Щ 9 ╫Щ╫Ю╫Щ ╫Ф╫Ч╫Т ╫й╫а╫С╫Ч╫и╫Х ╫з╫С╫Х╫в╫Щ╫Э ╫Х╫Ь╫Р ╫а╫Щ╫к╫Я ╫Ь╫Ф╫Ч╫Ь╫Щ╫д╫Э.</span>
            </div>
          </div>
        </div>

        {/* тФАтФА 08 ╫Ч╫Щ╫и╫Х╫Э тФАтФА */}
        <div className="sec">
          <div className="sec-title"><span className="sec-num">08</span>╫а╫Х╫Ф╫Ь╫Щ ╫Ч╫Щ╫и╫Х╫Э</div>
          <R field="fallProtocol" label="╫Ю╫Ф ╫Ь╫в╫й╫Х╫к ╫Р╫Э ╫Ф╫Ю╫Ш╫Х╫д╫Ь/╫к ╫а╫Х╫д╫Ь/╫к?" type="textarea"/>
          <R field="refusalProtocol" label="╫Ю╫Ф ╫Ь╫в╫й╫Х╫к ╫Р╫Э ╫Ф╫Ю╫Ш╫Х╫д╫Ь/╫к ╫Ю╫б╫и╫С/╫к ╫Ь╫Р╫Ы╫Х╫Ь / ╫Ь╫к╫и╫Х╫д╫Х╫к?" type="textarea"/>
          <R field="contactOrder" label="╫б╫У╫и ╫в╫У╫Щ╫д╫Х╫Щ╫Х╫к тАФ ╫Ю╫Щ ╫Ь╫Ф╫к╫з╫й╫и ╫и╫Р╫й╫Х╫Я?" type="textarea"/>
          <R field="distressButton" label="╫Ф╫Р╫Э ╫Щ╫й ╫Ь╫Ч╫ж╫Я ╫Ю╫ж╫Х╫з╫Ф / ╫й╫в╫Х╫Я ╫Ч╫Ы╫Э?" type="radio" options={[{v:"yes",l:"╫Щ╫й"},{v:"no",l:"╫Р╫Щ╫Я"}]}/>
          {form.distressButton==="yes" && <R field="distressDetails" label="╫д╫и╫Ш╫Щ ╫Ь╫Ч╫ж╫Я ╫Ф╫Ю╫ж╫Х╫з╫Ф" type="textarea"/>}
          <R field="ambulanceAuto" label="╫Ф╫Ц╫в╫з╫к ╫Р╫Ю╫С╫Х╫Ь╫а╫б тАФ ╫Ю╫У╫Щ╫а╫Щ╫Х╫к" type="radio" options={[
            {v:"immediate",l:"╫Ы╫Я тАФ ╫Ю╫Щ╫У ╫С╫Ю╫ж╫С ╫Ю╫б╫Ы╫Я ╫Ч╫Щ╫Щ╫Э"},
            {v:"coord",l:"╫Ы╫Я тАФ ╫Р╫Ч╫и╫Щ ╫а╫Щ╫б╫Щ╫Х╫Я ╫з╫й╫и ╫в╫Э ╫Ф╫Ю╫й╫д╫Ч╫Ф"},
            {v:"family_first",l:"╫и╫з ╫Р╫Ч╫и╫Щ ╫Р╫Щ╫й╫Х╫и ╫Ф╫Ю╫й╫д╫Ч╫Ф (╫Р╫Ь╫Р ╫Р╫Э ╫Ь╫Р ╫а╫Щ╫к╫Я)"},
          ]}/>
        </div>

        {/* тФАтФА 09 ╫Ф╫в╫и╫Х╫к тФАтФА */}
        <div className="sec">
          <div className="sec-title"><span className="sec-num">09</span>╫Ф╫в╫и╫Х╫к ╫а╫Х╫б╫д╫Х╫к</div>
          <R field="openNotes" label="╫Ф╫в╫и╫Х╫к ╫Ч╫Х╫д╫й╫Щ╫Х╫к" type="textarea"/>
        </div>

        {/* тФАтФА 10 ╫Ч╫к╫Щ╫Ю╫Х╫к тФАтФА */}
        <div className="sec">
          <div className="sec-title"><span className="sec-num">10</span>╫д╫и╫Ш╫Щ ╫Ч╫к╫Щ╫Ю╫Ф</div>
          <div className="grid2">
            <R field="familySignName" label="╫й╫Э ╫Ф╫Ю╫й╫д╫Ч╫Ф / ╫Ч╫Х╫к╫Э/╫к"/>
            <R field="workerSignName" label="╫й╫Э ╫Ф╫в╫Х╫С╫У/╫к"/>
            <R field="signDate" label="╫к╫Р╫и╫Щ╫Ъ ╫Ч╫к╫Щ╫Ю╫Ф" type="date"/>
          </div>
        </div>

        {/* тФАтФА ╫Ф╫д╫з╫к ╫У╫Х╫Ч тФАтФА */}
        <div style={{borderTop:"1.5px solid #111",paddingTop:36,marginTop:8}}>
          <p style={{fontSize:13,color:"#555",marginBottom:20}}>{previewText}</p>
          <button className="btn" onClick={generate}>╫Ф╫д╫з ╫У╫Х╫Ч тЖР </button>
        </div>
      </div>
    </>
    </FormCtx.Provider>
  );
}

ReactDOM.createRoot(document.getElementById('root')).render(
  React.createElement(CaregiverAgreement)
);
  </script>
</body>
</html>
